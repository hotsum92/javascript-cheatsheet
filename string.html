<html>
  <head>
    <title>string</title>
  </head>
  <body>
    <h1>string</h1>
    <script>

// 2 行文字列を 1 行で記述
'two\nlines'
// 1 行文字列を 3 行で記述
"one\
long\
line"

// 2 行文字列を 2 行で記述
`the newline character at the end of this line
is included literally in this string`

let s = "Hello, world"; // 例となるテキスト

// 文字列の一部を取得
s.substring(1,4) // "ell": 2 番目と 3 番目と 4 番目の文字
s.slice(1,4)     // "ell": 同じ処理
s.slice(-3)      // "rld": 最後から 3 文字
s.split(", ")    // ["Hello", "world"]: 区切り文字で、文字列を分割

// 文字列の検索
s.indexOf("l")     // 2: 最初の l の位置
s.indexOf("l", 3)  // 3: 3 文字目以降で最初の l の位置
s.indexOf("zz")    // -1: s には「 zz 」という文字列は含まれていない
s.lastIndexOf("l") // 10: 最後の l の位置

// 論理値を返す検索関数（ ES6以降）
s.startsWith("Hell") // => true: この文字列から始まっている
s.endsWith("!")      // => false: s の末尾はこの文字列ではない
s.includes("or")     // => true: s には「 or 」という文字列が含まれている

// 一部を変更した文字列を作成
s.replace("llo", "ya") // => "Heya, world"
s.toLowerCase() // => "hello, world"
s.toUpperCase() // => "HELLO, WORLD"
s.normalize() //
s.normalize("NFD")
// Unicode の NFC 正規化を行う（ ES6 ）
// NFD 正規化を行う「 NFKC 」、「 NFKD 」も使える。

// 文字列中の個々の文字（ 16 ビット）の処理。
s.charAt(0) // => "H": 最初の文字。
s.charAt(s.length-1) // => "d": 最後の文字。
s.charCodeAt(0) // => 72: 指定した位置の文字の 16 ビット値。
s.codePointAt(0) // => 72: 16 ビットよりも大きな符号位置にも使える（ ES6 ）。

// ES2017 で追加された文字列パディング関数。
"x".padStart(3)       // => " x":      左側に空白を追加して、 3 文字にする。
"x".padEnd(3)         // => "x ":        右側に空白を追加して、 3 文字にする。
"x".padStart(3, "*")  // => "**x":左側に「 * 」を追加して、 3 文字にする。
"x".padEnd(3, "-")    // => "x--":  右側に「 - 」を追加して、 3 文字にする。

// 空白を削除する関数。 trim() のみ ES5 から。ほかは ES2019 から。
" test ".trim() // => "test": 先頭と末尾の空白を削除。
" test ".trimStart() // => "test ": 左側の空白を削除。 trimLeft と記述してもよい。
" test ".trimEnd() // => " test": 右側の空白を削除。 trimRight と記述してもよい。

// そのほかの文字列メソッド。 s.concat("!")
// => "Hello, world!": 代わりに + 演算子を使うだけでもよい。
"<>".repeat(5) // => "<><><><><>": 文字列を繰り返して結合する（ ES6 ）。

let name = "Bill";
let greeting = `Hello ${ name }.`; // greeting == "Hello Bill."

let errorMessage = `\
\u2718 Test failure at ${filename}:${linenumber}:
${exception.message}
Stack trace:
${exception.stack}
`;

String.raw`\n`.length // => 2: バックスラッシュ文字と、 n という文字

let text = "testing: 1, 2, 3"; // 例となるテキスト。
let pattern = /\d+/g;          // 1 個以上の数字列にすべてマッチ。
pattern.test(text)             // => true: マッチする部分が存在する。
text.search(pattern)           // => 9: 最初にマッチした文字の位置。
text.match(pattern)            // => ["1", "2", "3"]: すべてのマッチを含む配列。
text.replace(pattern, "#")     // => "testing: #, #, #"
text.split(/\D+/)              // => ["","1","2","3"]: 数字以外の文字で配列に分割。

({x: 1, y: 2}).toString() // => "[object Object]"
[1,2,3].toString() // => "1,2,3"
(function(x) { f(x); }).toString() // => "function(x) { f(x); }"
/\d+/g.toString() // => "/\\d+/g"
let d = new Date(2020,0,1);
d.toString() // => "Wed Jan 01 2020 00:00:00 GMT-0800 (Pacific Standard Time)"

    </script>
  </body>
</html>
